## Task
Generate unit tests for {{stack.framework}} code.

{{task.description}}

## Requirements
- Use xUnit as the test framework
- Use NSubstitute for mocking
- Use FluentAssertions for assertions
- Follow Arrange-Act-Assert pattern
- Test happy path and edge cases
- Test error/exception scenarios
- Use descriptive test method names: MethodName_Scenario_ExpectedBehavior
- Add XML doc comments on the test class

## Output
Wrap the test file in `<code filepath="...">` tags.
